"use strict";document.addEventListener("DOMContentLoaded",()=>{document.querySelector(".slider__slides");const e=document.querySelectorAll(".slider__slide"),t=document.querySelector(".news__modal"),s=document.querySelector(".news__modal-close"),n=document.querySelector("#news__modal-title"),i=document.querySelector("#news__modal-subtitle"),l=document.querySelector("#news__modal-img"),c=document.querySelector("#news__modal-text"),a=document.querySelector("#news__modal-data");let r,d=[],o=1;setInterval(()=>{o>0?e[o-1].classList.remove("active"):e[e.length-1].classList.remove("active"),e[o].classList.add("active"),o++,o==e.length&&(o=0)},1e4);class m{constructor(e,t,s,n,i,l,c,...a){this.img=e,this.altimg=t,this.title=s,this.subtitle=n,this.text=i,this.perentSelector=document.querySelector(c),this.classes=a,this.data=l}render(){const e=document.createElement("div");0===this.classes.length?(this.classes="news__card",e.classList.add(this.classes)):this.classes.forEach(t=>e.classList.add(t)),e.innerHTML=`\n            <div class="news__img">\n               <img src=${this.img} alt=${this.altimg}>\n               <div class="news__card-bg">\n                  <img src="icons/loupe.svg">\n               </div>\n            </div>\n            <h3 class="news__card-title"> ${this.title}</h3>\n            <p>${this.text.substring(0,100)}...</p>\n            <span class="news__card-data">${this.data}</span>\n         `,this.perentSelector.append(e)}}fetch("db.json").then(e=>e.json()).then(e=>{e.news.forEach(({img:e,altimg:t,title:s,subtitle:n,text:i,data:l},c)=>{new m(e,t,s,n,i,l,".news__cards").render(),d[c]={img:e,altimg:t,title:s,subtitle:n,text:i,data:l}}),r=document.querySelectorAll(".news__card"),r.forEach((e,s)=>{e.addEventListener("click",e=>{l.src=d[s].img,l.alt=d[s].altimg,n.innerText=d[s].title,i.innerText=d[s].subtitle,c.innerText=d[s].text,a.innerText=d[s].data,document.querySelector("body").style.overflow="hidden",t.classList.add("active")})}),window.addEventListener("click",e=>{e.target!=s&&e.target!=t&&e.target!=s.children[0]&&e.target!=s.children[1]||(t.classList.remove("active"),document.querySelector("body").style.overflow="auto")})})});